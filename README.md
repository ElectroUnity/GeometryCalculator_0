# 几何计算器
用解析几何的思想，求解几何计算题
> 万物皆数。 ——毕达哥拉斯

> 啊对对对，我们都是初二的学生，用几何的方法做，你是初三的学生，用建系的高级方法做，我们的方法哪有建系快啊 :sweat_smile:
> ——我们的数学老师
---
## 作者
[MC着火的冰块](https://space.bilibili.com/551409211)

---
## 目前支持的条件
- 三点共线
- 平行
- 垂直
- 线段和角的大小与数量关系
---
## 用法演示(v0.1)
按提示输入条件即可

以下为计算勾三股四弦五的示例
```
作者：MC着火的冰块	https://space.bilibili.com/551409211

添加点，每次一个，仅一个大写字母，输入ok结束
样例：A
>>>A
解析成功：添加点 A(xA, yA)
>>>B
解析成功：添加点 B(xB, yB)
>>>C
解析成功：添加点 C(xC, yC)
>>>ok

添加三点共线，三点用空格分格，输入ok结束
样例：A B C
>>>ok

添加平行，两线用空格分格，输入ok结束
样例：AB CD	(表示AB//CD)
>>>ok

添加垂直，两线用空格分格，输入ok结束
样例：AB CD	(表示AB⊥CD)
>>>AC BC
解析成功：添加条件 ((xA - xC)*(xB - xC) + (yA - yC)*(yB - yC))/((xA - xC)*(xB - xC)) = 0
>>>ok

添加相等关系，输入一个等式，输入ok结束
样例：AB=CD	AB=114514	AB=2*AC	(*不可省略，乘方运算符为**，pi代表π)
     角AOB=90度	角AOB=pi/2	角AOB+角BOC=135度	(带度为角度制，不带度为弧度制，不支持单个字母的简写)
>>>AC=3
解析成功：添加条件 sqrt((xA - xC)**2 + (yA - yC)**2) - 3 = 0
>>>BC=4
解析成功：添加条件 sqrt((xB - xC)**2 + (yB - yC)**2) - 4 = 0
>>>ok

条件读取完成
请输入要求的值
样例：AB	角AOB
>>>AB
解析成功：求sqrt((xA - xB)**2 + (yA - yB)**2)
已知条件如下：
{ ((xA - xC)*(xB - xC) + (yA - yC)*(yB - yC))/((xA - xC)*(xB - xC)) = 0
{ sqrt((xA - xC)**2 + (yA - yC)**2) - 3 = 0
{ sqrt((xB - xC)**2 + (yB - yC)**2) - 4 = 0
{ -AB + sqrt((xA - xB)**2 + (yA - yB)**2) = 0
开始计算，请耐心等待...
所有可能的解如下：
{5}
耗时55.3726749420166s
```


## 项目代码解析

项目功能：

以交互方式输入几何图形的点、线段、角等信息，以及它们之间的关系（如相等、共线、平行、垂直等）。
使用 Python 的 Sympy 库进行符号运算，自动推导并求解几何问题。
支持输入角度制或弧度制，并自动进行转换。
代码结构：

**classes.py：**定义了点、线段、角等几何图形类，以及计算距离和角度的函数。
**main-console.py：**项目主程序，负责交互式地输入条件和求解结果。
**read.py：**定义了 read_expr 函数，用于解析几何表达式，将文字描述转换为可计算的表达式。
read_expr 函数解析：

**处理线段长度：**使用正则表达式匹配形如 "AB" 的线段描述，并替换为 distance(points['A'], points['B']) 函数调用，计算线段长度。
**处理角：**使用正则表达式匹配形如 "角ABC" 的角描述，并替换为 Angle(points['A'], points['B'], points['C']).val 函数调用，计算角的度数。
**角度制转弧度制：**使用正则表达式匹配形如 "90度" 的角度制描述，并替换为 sympy.rad(90)，将其转换为弧度制。
**执行表达式：**使用 Python 的 eval 函数执行转换后的表达式，得到计算结果。
整体分析：

项目代码结构清晰，易于理解和扩展。
支持多种几何图形和关系，适用范围广泛。
使用 Sympy 库进行符号运算，可以处理复杂的几何问题。
可以为几何教学和研究提供有效的辅助工具。
改进建议：

可以添加更多几何图形类，例如圆形、三角形等。
可以添加更多函数，例如判断两条线段是否相交、计算两条线段的交点等。
可以提供更详细的文档，解释代码的功能和使用方法。
可以优化 read_expr 函数，使其更健壮、更灵活。
